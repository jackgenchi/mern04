(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(r=function(){return!!e})()}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var c=function(){function n(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(t,n,l){return n=o(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,r()?Reflect.construct(n,l||[],o(t).constructor):n.apply(t,l))}(this,n)).handleSubmit=t.handleSubmit.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(n,React.Component),c=n,a=[{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.forms.employeeAdd,n={name:t.name.value,extension:t.ext.value,email:t.email.value,title:t.title.value};this.props.createEmployee(n),t.name.value="",t.ext.value="",t.email.value="",t.title.value=""}},{key:"render",value:function(){return React.createElement("form",{name:"employeeAdd",onSubmit:this.handleSubmit},"Name: ",React.createElement("input",{type:"text",name:"name"}),React.createElement("br",null),"Extension: ",React.createElement("input",{type:"text",name:"ext",maxLength:4}),React.createElement("br",null),"Email: ",React.createElement("input",{type:"text",name:"email"}),React.createElement("br",null),"Title: ",React.createElement("input",{type:"text",name:"title"}),React.createElement("br",null),React.createElement("button",null,"Add here"))}}],a&&t(c.prototype,a),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,a}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}function f(e,t,n){return t=s(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var E=function(){function e(){return i(this,e),f(this,e,arguments)}return d(e,React.Component),m(e,[{key:"render",value:function(){return React.createElement("div",null,"This is a placheholder for the employee filter")}}])}();function h(e){var t=e.employees.map((function(t){return React.createElement(v,{key:t._id,employee:t,deleteEmployee:e.deleteEmployee})}));return React.createElement("table",{className:"bordered-table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Extension"),React.createElement("th",null,"Email"),React.createElement("th",null,"Title"),React.createElement("th",null,"Date Hired"),React.createElement("th",null,"Currently Employed"),React.createElement("th",null))),React.createElement("tbody",null,t))}function v(e){return React.createElement("tr",null,React.createElement("td",null,e.employee.name),React.createElement("td",null,e.employee.extension),React.createElement("td",null,e.employee.email),React.createElement("td",null,e.employee.title),React.createElement("td",null,e.employee.dateHired.toDateString()),React.createElement("td",null,e.employee.currentlyEmployed?"Yes":"No"),React.createElement("td",null,React.createElement("button",{onClick:function(){e.deleteEmployee(e.employee._id)}},"DELETE")))}var R=function(){function e(){var t;return i(this,e),(t=f(this,e)).state={employees:[]},t.createEmployee=t.createEmployee.bind(t),t.deleteEmployee=t.deleteEmployee.bind(t),t}return d(e,React.Component),m(e,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;fetch("/api/employees").then((function(e){return e.json()})).then((function(t){console.log("data: ".concat(t)),t.employees.forEach((function(e){e.dateHired=new Date(e.dateHired)})),e.setState({employees:t.employees})})).catch((function(e){return console.log(e)}))}},{key:"createEmployee",value:function(e){var t=this;fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.employee.dateHired=new Date(e.employee.dateHired);var n=t.state.employees.concat(e.employee);t.setState({employees:n}),console.log("Total count of employees: ",n.length)})).catch((function(e){console.log(e)}))}},{key:"deleteEmployee",value:function(e){var t=this;fetch("/api/employees/".concat(e),{method:"DELETE"}).then((function(e){e.ok?t.loadData():console.log("Failed to delete employee.")}))}},{key:"render",value:function(){return React.createElement(React.Fragment,null,React.createElement("h1",null,"Employee Management Application"),React.createElement(E,null),React.createElement("hr",null),React.createElement(h,{employees:this.state.employees,deleteEmployee:this.deleteEmployee}),React.createElement("hr",null),React.createElement(c,{createEmployee:this.createEmployee}))}}])}();ReactDOM.render(React.createElement(React.StrictMode,null,React.createElement(R,null)),document.getElementById("content"))})();